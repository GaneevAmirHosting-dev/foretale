<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</title>
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>RPG –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</h1>
            <div class="header-controls">
                <button class="header-btn" id="settingsBtn">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button class="header-btn" id="manageCharactersBtn">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏</button>
            </div>
        </header>

        <!-- –≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
        <div class="character-creation-screen" id="characterCreationScreen">
            <div class="creation-container">
                <h2>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h2>

                <div class="creation-form">
                    <div class="input-group">
                        <label for="characterName">–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:</label>
                        <input type="text" id="characterName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" maxlength="20">
                    </div>

                    <div class="race-selection">
                        <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞—Å—É</h3>
                        <div class="races-grid" id="racesGrid">
                            <!-- –†–∞—Å—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ JSON -->
                        </div>
                    </div>

                    <div class="creation-actions">
                        <button class="create-btn" id="createCharacterBtn">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
                        <button class="back-btn" id="backToCharactersBtn">–ö —Å–ø–∏—Å–∫—É –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
        <div class="characters-screen" id="charactersScreen">
            <h2>–í–∞—à–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏</h2>

            <div class="characters-management">
                <button class="new-character-btn" id="newCharacterBtn">+ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
            </div>

            <div class="characters-grid" id="charactersGrid">
                <!-- –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π -->
            </div>

            <div class="no-characters" id="noCharactersMessage" style="display: none;">
                <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</p>
                <button class="create-first-btn" id="createFirstCharacterBtn">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
        <div class="game-interface" id="gameInterface" style="display: none;">
            <!-- –ü–∞–Ω–µ–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
            <div class="current-character-panel">
                <div class="character-badge">
                    <span class="char-name" id="currentCharName">–ò–º—è</span>
                    <span class="char-race" id="currentCharRace">–†–∞—Å–∞</span>
                    <span class="char-level">–£—Ä. <span id="currentCharLevel">1</span></span>
                    <span class="char-sans">–°–∞–Ω—ã: <span id="currentCharSans">0</span></span>
                </div>
                <div class="character-controls">
                    <button class="shop-btn-header" id="shopBtnHeader">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
                    <button class="switch-char-btn" id="switchCharacterBtn">–°–º–µ–Ω–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>
                </div>
            </div>

            <!-- –ë–æ–µ–≤–æ–π —ç–∫—Ä–∞–Ω -->
            <div class="battle-screen" id="battleScreen">
                <div class="location-selector">
                    <button class="location-select-btn" id="locationSelectBtn">–í—ã–±—Ä–∞—Ç—å –ª–æ–∫–∞—Ü–∏—é</button>
                    <div class="current-location" id="currentLocationDisplay">–õ–æ–∫–∞—Ü–∏—è –Ω–µ –≤—ã–±—Ä–∞–Ω–∞</div>
                </div>

                <div class="game-section">
                    <div class="panel player-panel">
                        <h2>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–∂</h2>
                        <div class="character-info">
                            <div class="stats">
                                <div class="stat">
                                    <div>–£—Ä–æ–≤–µ–Ω—å: <span id="charLevel">1</span></div>
                                </div>
                                <div class="stat">
                                    <div>–û–ø—ã—Ç: <span id="charExp">0</span>/<span id="charExpNeeded">20</span></div>
                                    <div class="progress-bar">
                                        <div class="progress-fill exp-fill" id="charExpBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                <div class="stat">
                                    <div>–ó–¥–æ—Ä–æ–≤—å–µ: <span id="charHp">100</span>/<span id="charMaxHp">100</span></div>
                                    <div class="progress-bar">
                                        <div class="progress-fill hp-fill" id="charHpBar" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div class="stat">
                                    <div>–ú–∞–Ω–∞: <span id="charMp">50</span>/<span id="charMaxMp">50</span></div>
                                    <div class="progress-bar">
                                        <div class="progress-fill mp-fill" id="charMpBar" style="width: 100%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="character-buttons">
                                <button class="detailed-stats-btn" id="detailedStatsBtn">üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</button>
                                <button class="upgrade-stats-btn" id="upgradeStatsBtn">‚ö° –ü—Ä–æ–∫–∞—á–∫–∞</button>
                            </div>
                        </div>
                    </div>

                    <div class="panel enemy-panel">
                        <h2>–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫</h2>
                        <div class="enemy-info" id="enemyInfo" style="display: none;">
                            <div class="enemy-header">
                                <div class="enemy-name" id="enemyName">–ú–æ–Ω—Å—Ç—Ä</div>
                                <div class="enemy-type" id="enemyType">–¢–∏–ø</div>
                            </div>
                            <div class="stats">
                                <div class="stat">
                                    <div>–ó–¥–æ—Ä–æ–≤—å–µ: <span id="enemyHp">0</span>/<span id="enemyMaxHp">0</span></div>
                                    <div class="progress-bar">
                                        <div class="progress-fill hp-fill" id="enemyHpBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                <div class="stat">
                                    <div>–ú–∞–Ω–∞: <span id="enemyMp">0</span>/<span id="enemyMaxMp">0</span></div>
                                    <div class="progress-bar">
                                        <div class="progress-fill mp-fill" id="enemyMpBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                <div class="stat">
                                    <div>–£—Ä–æ–Ω: <span id="enemyDmg">0</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="no-enemy" id="noEnemyMessage">
                            <p>–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω</p>
                        </div>
                    </div>
                </div>

                <div class="battle-actions">
                    <button id="findEnemyBtn" class="find-enemy-btn">–ò—Å–∫–∞—Ç—å –≤—Ä–∞–≥–∞</button>
                    <button id="attackBtn" class="attack-btn" disabled>–ê—Ç–∞–∫–æ–≤–∞—Ç—å</button>
                </div>

                <div class="battle-log" id="battleLog">
                    <div class="log-entry system-log">–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é –∏ –Ω–∞–π–¥–∏—Ç–µ –≤—Ä–∞–≥–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ –±–æ—è</div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –ª–æ–∫–∞—Ü–∏–∏ -->
            <div class="location-screen" id="locationScreen" style="display: none;">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é</h2>
                <div class="locations-grid" id="locationsGrid">
                    <!-- –õ–æ–∫–∞—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ JSON -->
                </div>
                <button class="back-btn" id="backFromLocationBtn">–ù–∞–∑–∞–¥ –∫ –±–æ—é</button>
            </div>

            <!-- –ú–∞–≥–∞–∑–∏–Ω -->
            <div class="shop-screen" id="shopScreen" style="display: none;">
                <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
                <div class="shop-content">
                    <!-- –í–∫–ª–∞–¥–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    <div id="charactersTab" class="tab-content"></div>
                    <div id="itemsTab" class="tab-content" style="display: none;"></div>
                    <div id="skillsTab" class="tab-content" style="display: none;"></div>
                </div>
                <div class="shop-actions">
                    <button class="back-btn" id="backFromShopBtn">–ù–∞–∑–∞–¥ –∫ –±–æ—é</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –ø—Ä–æ–∫–∞—á–∫–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ -->
    <div class="level-up-screen" id="levelUpScreen" style="display: none;">
        <div class="level-up-modal">
            <h2>–ü—Ä–æ–∫–∞—á–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫</h2>
            <div class="level-up-info">
                <p>–î–æ—Å—Ç—É–ø–Ω–æ –æ—á–∫–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫: <span id="availablePointsDisplay">0</span></p>
            </div>

            <div class="upgrade-options">
                <div class="upgrade-option" data-stat="health">
                    <div class="upgrade-header">
                        <h3>–ó–¥–æ—Ä–æ–≤—å–µ</h3>
                        <span class="upgrade-value">+<span id="healthGain">0</span> HP</span>
                    </div>
                    <p>–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ</p>
                    <button class="upgrade-btn" data-stat="health">–£–ª—É—á—à–∏—Ç—å</button>
                </div>

                <div class="upgrade-option" data-stat="mana">
                    <div class="upgrade-header">
                        <h3>–ú–∞–Ω–∞</h3>
                        <span class="upgrade-value">+<span id="manaGain">0</span> MP</span>
                    </div>
                    <p>–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –º–∞–Ω—É</p>
                    <button class="upgrade-btn" data-stat="mana">–£–ª—É—á—à–∏—Ç—å</button>
                </div>

                <div class="upgrade-option" data-stat="damage">
                    <div class="upgrade-header">
                        <h3>–£—Ä–æ–Ω</h3>
                        <span class="upgrade-value">+<span id="damageGain">0</span> DMG</span>
                    </div>
                    <p>–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–Ω–æ—Å–∏–º—ã–π —É—Ä–æ–Ω</p>
                    <button class="upgrade-btn" data-stat="damage">–£–ª—É—á—à–∏—Ç—å</button>
                </div>
            </div>

            <div class="level-up-actions">
                <button class="close-level-up-btn" id="closeLevelUpBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ -->
    <div class="detailed-stats-screen" id="detailedStatsScreen" style="display: none;">
        <div class="detailed-stats-modal">
            <h2>–î–µ—Ç–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h2>
            <div class="detailed-stats-content" id="detailedStatsContent">
                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="detailed-stats-actions">
                <button class="close-detailed-stats-btn" id="closeDetailedStatsBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div class="settings-screen" id="settingsScreen" style="display: none;">
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    </div>

    <script type="module" src="./main.js"></script>



    <script type="module">
    import { Game } from './game/Game.js';
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
    window.addEventListener('DOMContentLoaded', () => {
        console.log('DOM loaded, initializing game...');
        try {
            window.rpgGame = new Game();
            console.log('Game initialized successfully');
        } catch (error) {
            console.error('Error initializing game:', error);
        }
    });
    
    // –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π
    window.addEventListener('error', (e) => {
        console.error('Script loading error:', e);
    });
</script>




</body>

</html>